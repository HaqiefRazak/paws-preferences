<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paws & Preferences üêæ</title>

  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #ffecd2, #fcb69f);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .app {
      background: white;
      width: 400px;
      max-width: 95vw;
      border-radius: 24px;
      padding: 22px;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
    }

    h1 {
      margin: 0;
      font-size: 1.9rem;
    }

    p {
      font-size: 1.1rem;
      color: #555;
      margin-top: 8px;
    }

    .progress {
      margin-top: 10px;
      font-size: 1rem;
      color: #777;
      font-weight: bold;
    }

    #card-container {
      position: relative;
      width: 100%;
      height: 460px;
      margin-top: 18px;
    }

    .card {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 15px 30px rgba(0,0,0,0.3);
      background: #eee;
      touch-action: none;
      cursor: grab;
      transition: transform 0.25s ease, opacity 0.25s ease;
    }

    .card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .badge {
      position: absolute;
      top: 25px;
      padding: 10px 18px;
      font-size: 1.6rem;
      font-weight: bold;
      border-radius: 12px;
      opacity: 0;
    }

    .like {
      left: 20px;
      color: #2ecc71;
      border: 3px solid #2ecc71;
      transform: rotate(-15deg);
    }

    .dislike {
      right: 20px;
      color: #e74c3c;
      border: 3px solid #e74c3c;
      transform: rotate(15deg);
    }

    .hint {
      display: flex;
      justify-content: space-between;
      margin-top: 14px;
      font-size: 1.1rem;
      color: #888;
    }

    #result {
      text-align: center;
      margin-top: 15px;
    }

    #liked-cats {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 12px;
    }

    #liked-cats img {
      width: 110px;
      height: 110px;
      object-fit: cover;
      border-radius: 14px;
      margin: 6px;
    }

    button {
      margin-top: 18px;
      padding: 12px 22px;
      font-size: 1.1rem;
      border: none;
      border-radius: 12px;
      background: #ff9f43;
      color: white;
      cursor: pointer;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div class="app">
    <h1>Paws & Preferences üê±</h1>
    <p>Swipe right if you like the kitty, left if you don‚Äôt.</p>
    <div class="progress" id="progress"></div>

    <div id="card-container"></div>

    <div class="hint">
      <span>‚¨Ö Dislike</span>
      <span>Like ‚û°</span>
    </div>

    <div id="result" class="hidden">
      <h2>You liked <span id="like-count"></span> cats ‚ù§Ô∏è</h2>
      <div id="liked-cats"></div>
      <button onclick="restart()">Try Again üîÑ</button>
    </div>
  </div>

  <script>
    const TOTAL_CATS = 10;

    const cardContainer = document.getElementById("card-container");
    const result = document.getElementById("result");
    const likeCountText = document.getElementById("like-count");
    const likedCatsContainer = document.getElementById("liked-cats");
    const progressText = document.getElementById("progress");

    let currentIndex = 0;
    let likedCats = [];
    let finished = false;

    function getCats() {
      return Array.from({ length: TOTAL_CATS }, (_, i) =>
        `https://cataas.com/cat?random=${i}-${Date.now()}`
      );
    }

    let cats = getCats();

    function updateProgress() {
      progressText.textContent = `Cat ${currentIndex + 1} of ${TOTAL_CATS}`;
    }

    function createCard(imageUrl) {
      const card = document.createElement("div");
      card.className = "card";

      const img = document.createElement("img");
      img.src = imageUrl;

      const likeBadge = document.createElement("div");
      likeBadge.className = "badge like";
      likeBadge.textContent = "LIKE ‚ù§Ô∏è";

      const dislikeBadge = document.createElement("div");
      dislikeBadge.className = "badge dislike";
      dislikeBadge.textContent = "NOPE ‚ùå";

      card.append(img, likeBadge, dislikeBadge);
      addSwipe(card, imageUrl, likeBadge, dislikeBadge);
      cardContainer.appendChild(card);
    }

    function addSwipe(card, imageUrl, likeBadge, dislikeBadge) {
      let startX = 0;
      let currentX = 0;
      let dragging = false;

      const start = x => {
        if (finished) return;
        dragging = true;
        startX = x;
        card.style.transition = "none";
      };

      const move = x => {
        if (!dragging || finished) return;
        currentX = x - startX;

        card.style.transform = `translateX(${currentX}px) rotate(${currentX / 12}deg)`;
        likeBadge.style.opacity = currentX > 0 ? Math.min(currentX / 100, 1) : 0;
        dislikeBadge.style.opacity = currentX < 0 ? Math.min(-currentX / 100, 1) : 0;
      };

      const end = () => {
        if (!dragging || finished) return;
        dragging = false;
        card.style.transition = "transform 0.25s ease, opacity 0.25s ease";

        if (currentX > 120) finishSwipe(card, true, imageUrl);
        else if (currentX < -120) finishSwipe(card, false, imageUrl);
        else card.style.transform = "translateX(0)";
      };

      card.addEventListener("mousedown", e => start(e.clientX));
      window.addEventListener("mousemove", e => move(e.clientX));
      window.addEventListener("mouseup", end);

      card.addEventListener("touchstart", e => start(e.touches[0].clientX));
      card.addEventListener("touchmove", e => move(e.touches[0].clientX));
      card.addEventListener("touchend", end);
    }

    function finishSwipe(card, liked, imageUrl) {
      if (finished) return;

      card.style.transform = `translateX(${liked ? 500 : -500}px) rotate(${liked ? 20 : -20}deg)`;
      card.style.opacity = 0;

      setTimeout(() => card.remove(), 250);

      if (liked) likedCats.push(imageUrl);
      currentIndex++;

      if (currentIndex === TOTAL_CATS) {
        finished = true;
        showResults();
      } else {
        updateProgress();
      }
    }

    function showResults() {
      result.classList.remove("hidden");
      progressText.textContent = "MAXIMUM NUMBER OF LIKES / DISLIKES FOR THE DAY";

      likeCountText.textContent = likedCats.length;

      likedCats.forEach(src => {
        const img = document.createElement("img");
        img.src = src;
        likedCatsContainer.appendChild(img);
      });
    }

    function restart() {
      cardContainer.innerHTML = "";
      likedCatsContainer.innerHTML = "";
      result.classList.add("hidden");

      currentIndex = 0;
      likedCats = [];
      finished = false;

      cats = getCats();
      init();
    }

    function init() {
      updateProgress();
      cats.forEach(createCard);
    }

    init();
  </script>

</body>
</html>
